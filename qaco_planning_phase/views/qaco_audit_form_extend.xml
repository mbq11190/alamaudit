<odoo>
    <data>
        <!-- Extend qaco_audit form view to add Planning Phase notebook -->
        <record id="view_qaco_audit_form_planning_phase" model="ir.ui.view">
            <field name="name">qaco.audit.form.planning.phase</field>
            <field name="model">qaco.audit</field>
            <field name="inherit_id" ref="qaco_audit.qaco_audit_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='description_page']" position="after">
                    <page name="planning_phase" string="Planning Phase">
                        <!-- No Planning Phase - Show Initialize Button -->
                        <div class="alert alert-info text-center" role="alert" invisible="planning_phase_id" style="margin: 50px;">
                            <h4><i class="fa fa-clipboard"/> Planning Phase Not Started</h4>
                            <p>Click the button below to initialize the planning phase for this audit.</p>
                            <button name="action_create_planning_phase" 
                                    string="Initialize Planning Phase" 
                                    type="object" 
                                    class="btn btn-primary btn-lg"
                                    icon="fa-plus-circle"/>
                        </div>
                        
                        <!-- Planning Phase Exists - Show Form -->
                        <group invisible="not planning_phase_id">
                            <field name="planning_phase_id" 
                                   invisible="1"/>
                        </group>
                        
                        <div invisible="not planning_phase_id" class="o_planning_phase_container">
                            <field name="planning_phase_id" 
                                   context="{'default_audit_id': active_id, 'form_view_ref': 'qaco_planning_phase.view_planning_phase_form'}"/>
                        </div>
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>

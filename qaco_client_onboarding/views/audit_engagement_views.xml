<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_qaco_audit_engagement_tree" model="ir.ui.view">
        <field name="name">qaco.audit.engagement.tree</field>
        <field name="model">qaco.audit.engagement</field>
        <field name="arch" type="xml">
            <tree string="Audit Engagements">
                <field name="name"/>
                <field name="client_id"/>
                <field name="state"/>
                <field name="risk_rating"/>
                <field name="eqcr_required"/>
                <field name="partner_review_required" invisible="1"/>
            </tree>
        </field>
    </record>

    <record id="view_qaco_audit_engagement_form" model="ir.ui.view">
        <field name="name">qaco.audit.engagement.form</field>
        <field name="model">qaco.audit.engagement</field>
        <field name="arch" type="xml">
            <form string="Audit Engagement">
                <header>
                    <button name="action_accept_engagement" type="object" string="Accept" class="oe_highlight" modifiers="{'invisible': [('state', '!=', 'draft')]}"/>
                    <button name="action_request_partner_review" type="object" string="Request Partner Review"/>
                    <button name="action_mark_partner_review_complete" type="object" string="Mark Partner Review Complete"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,onboarding,planning,execution,finalisation,completed,cancelled"/>
                </header>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="client_id"/>
                        <field name="state" invisible="1"/>
                        <field name="risk_rating"/>
                    </group>
                    <notebook>
                        <page string="Client Profile">
                            <group>
                                <field name="legal_name"/>
                                <field name="trade_name"/>
                                <field name="date_incorporation"/>
                            </group>
                            <group>
                                <field name="ntn"/>
                                <field name="strn"/>
                                <field name="entity_classification"/>
                                <field name="regulatory_body"/>
                                <field name="industry_id"/>
                                <field name="registered_address"/>
                            </group>
                        </page>
                        <page string="Regulatory">
                            <group>
                                <field name="reporting_framework"/>
                                <field name="secp_status"/>
                                <field name="stock_exchange"/>
                                <field name="last_annual_return"/>
                            </group>
                            <group>
                            <field name="tax_compliance_rating"/>
                            <field name="withholding_tax_status"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
</odoo>